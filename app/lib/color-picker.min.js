/*!
 * ==========================================================
 *  COLOR PICKER PLUGIN 1.2.0
 * ==========================================================
 * Author: Taufik Nurrohman <https://github.com/tovic>
 * License: MIT
 * ----------------------------------------------------------
 */
var CP=function(e,t){function f(e){return"undefined"!=typeof e}function o(e){return"string"==typeof e}function u(e,t,n){return t>e?t:e>n?n:e}function c(e){var i,l,a,s,f,o,u,c,t=+e[0],n=+e[1],r=+e[2];switch(s=Math.floor(6*t),f=6*t-s,o=r*(1-n),u=r*(1-f*n),c=r*(1-(1-f)*n),isNaN(s)&&(s=0),isNaN(u)&&(u=0),isNaN(c)&&(c=0),s%6){case 0:i=r,l=c,a=o;break;case 1:i=u,l=r,a=o;break;case 2:i=o,l=r,a=c;break;case 3:i=o,l=u,a=r;break;case 4:i=c,l=o,a=r;break;case 5:i=r,l=o,a=u}return[Math.round(255*i),Math.round(255*l),Math.round(255*a)]}function p(e){return h(c(e))}function d(e){var s,t=+e[0],n=+e[1],r=+e[2],i=Math.max(t,n,r),l=Math.min(t,n,r),a=i-l,f=0===i?0:a/i,o=i/255;switch(i){case l:s=0;break;case t:s=n-r+a*(r>n?6:0),s/=6*a;break;case n:s=r-t+2*a,s/=6*a;break;case r:s=t-n+4*a,s/=6*a}return[s,f,o]}function h(e){var t=+e[2]|+e[1]<<8|+e[0]<<16;return t="000000"+t.toString(16),t.slice(-6)}function g(e){return d($(e))}function $(e){return 3===e.length&&(e=e.replace(/./g,"$&$&")),[parseInt(e[0]+e[1],16),parseInt(e[2]+e[3],16),parseInt(e[4]+e[5],16)]}function m(e){return[+e[0]/360,+e[1]/100,+e[2]/100]}function b(e){return[Math.round(360*+e[0]),Math.round(100*+e[1]),Math.round(100*+e[2])]}function v(e,t,n){e=e.split(/\s+/);for(var r=0,i=e.length;i>r;++r)t.addEventListener(e[r],n,!1)}function k(e,t,n){e=e.split(/\s+/);for(var r=0,i=e.length;i>r;++r)t.removeEventListener(e[r],n)}function y(e,t){for(var n=t.touches?t.touches[0].pageX:t.pageX,r=t.touches?t.touches[0].pageY:t.pageY,i=w(e).l,l=w(e).t;e=e.offsetParent;)i+=w(e).l,l+=w(e).t;return{x:n-i,y:r-l}}function w(e){return{l:e.offsetLeft,t:e.offsetTop}}function x(e,t){for(;(e=e.parentElement)&&e!==t;);return e}function _(e){e&&e.preventDefault()}function T(e){return{w:e.offsetWidth,h:e.offsetHeight}}function S(e){return l||(f(e)?e:!1)}function q(e){l=e}function E(e,t,n){return f(e)?f(t)?(f(a[e])||(a[e]={}),f(n)||(n=Object.keys(a[e]).length),a[e][n]=t,i):a[e]:a}function I(e,t){return f(e)?f(t)?(delete a[e][t],i):(a[e]={},i):(a={},i)}function L(e,t,n){if(!f(a[e]))return i;if(f(n))f(a[e][n])&&a[e][n].apply(i,t);else for(var r in a[e])a[e][r].apply(i,t);return i}function G(e,t){e&&"h"!==e||L("change:h",t),e&&"sv"!==e||L("change:sv",t),L("change",t)}function K(e,t){return n.setTimeout(e,t)}function Q(){return s.parentNode}function J(){var t=T(R).w,r=n.innerHeight,l=Math.max(O.scrollLeft,R.scrollLeft),a=Math.max(O.scrollTop,R.scrollTop),f=t+l,o=r+a;return Z=w(e).l,P=w(e).t+T(e).h,Z+Y>f&&(Z=f-Y),P+B>o&&(P=o-B),s.style.left=Z+"px",s.style.top=P+"px",L("fit",[i]),i}function ee(l,a){function m(t){var n=t.target,r=n===e||x(n,e)===e;r?ee():V(),L(r?"enter":"exit",[i])}function b(e){var n=(c(H),c([H[0],1,1]));D.style.backgroundColor="rgb("+n.join(",")+")",q(H),_(e)}function w(e){var t=u(y(M,e).y,0,f);H[0]=(f-t)/f,C.style.top=t-h/2+"px",b(e)}function E(e){var t=y(D,e),n=u(t.x,0,o),r=u(t.y,0,d);H[1]=1-(o-n)/o,H[2]=(d-r)/d,U.style.right=o-n-g/2+"px",U.style.top=r-$/2+"px",b(e)}function I(e){A&&(w(e),X=p(H),j||(L("drag:h",[X,i]),L("drag",[X,i]),G("h",[X,i]))),N&&(E(e),X=p(H),F||(L("drag:sv",[X,i]),L("drag",[X,i]),G("sv",[X,i]))),j=!1,F=!1}function R(n){var r=n.target,l=A?"h":"sv",a=[p(H),i],f=r===e||x(r,e)===e,o=r===s||x(r,s)===s;f||o?o&&(L("stop:"+l,a),L("stop",a),G(l,a)):Q()&&t!==!1&&(V(),L("exit",[i]),G(0,a)),A=!1,N=!1}function z(e){j=!0,A=!0,I(e),_(e),L("start:h",[X,i]),L("start",[X,i]),G("h",[X,i])}function Z(e){F=!0,N=!0,I(e),_(e),L("start:sv",[X,i]),L("start",[X,i]),G("sv",[X,i])}l||((a||O).appendChild(s),i.visible=!0),Y=T(s).w,B=T(s).h;var f=T(M).h,o=T(D).w,d=T(D).h,h=T(C).h,g=T(U).w,$=T(U).h;l?(s.style.left="-9999px",s.style.top="-9999px",t!==!1&&v(t,e,m),i.create=function(){return ee(1),L("create",[i]),i},i.destroy=function(){return t!==!1&&k(t,e,m),V(),q(!1),L("destroy",[i]),i}):J(),W=function(){H=S(H),b(),C.style.top=f-h/2-f*+H[0]+"px",U.style.right=o-g/2-o*+H[1]+"px",U.style.top=d-$/2-d*+H[2]+"px"},V=function(e){return Q()&&(Q().removeChild(s),i.visible=!1),k("touchstart mousedown",M,z),k("touchstart mousedown",D,Z),k("touchmove mousemove",r,I),k("touchend mouseup",r,R),k("resize",n,J),i},W(),l||(v("touchstart mousedown",M,z),v("touchstart mousedown",D,Z),v("touchmove mousemove",r,I),v("touchend mouseup",r,R),v("resize",n,J))}var n=window,r=document,i=this,l=!1,a={},s=r.createElement("div");CP.__instance__[e.id||e.name||Object.keys(CP.__instance__).length]=i,f(t)||(t="mousedown touchstart"),i.parse=function(e){if("object"==typeof e)return e;var t=/\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i.exec(e),n=/\s*hsv\s*\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*\)\s*$/i.exec(e),r="#"===e[0]&&e.match(/^#([\da-f]{3}|[\da-f]{6})$/);return r?g(e.slice(1)):n?m([+n[1],+n[2],+n[3]]):t?d([+t[1],+t[2],+t[3]]):[0,1,1]},q(i.parse(e.getAttribute("data-color")||e.value||[0,1,1])),s.className="color-picker",s.innerHTML='<div class="color-picker-control"><span class="color-picker-h"><i></i></span><span class="color-picker-sv"><i></i></span></div>';var W,V,O=r.body,R=r.documentElement,z=s.firstChild.children,H=S([0,1,1]),M=z[0],D=z[1],C=M.firstChild,U=D.firstChild,j=!1,F=!1,A=!1,N=!1,Z=0,P=0,Y=0,B=0,X=p(H);return ee(1),K(function(){var e=[p(H),i];L("create",e),G(0,e)},0),i.target=e,i.picker=s,i.visible=!1,i.on=E,i.off=I,i.trigger=L,i.fit=J,i.set=function(e){return f(e)?(o(e)&&(e=i.parse(e)),q(e),W(),i):S()},i.HSV2RGB=function(e){return c(m(e))},i._HSV2RGB=c,i.HSV2HEX=function(e){return p(m(e))},i._HSV2HEX=p,i.RGB2HSV=function(e){return b(d(e))},i._RGB2HSV=d,i.RGB2HEX=h,i.HEX2HSV=function(e){return b(g(e))},i._HEX2HSV=g,i.HEX2RGB=$,i.hooks=a,i.enter=function(e){return ee(0,e)},i.exit=V,i};!function(e){e.version="1.2.0",e.__instance__={},e.each=function(t,n){return setTimeout(function(){var r,n=e.__instance__;for(r in n)t(n[r],r)},0===n?0:n||1),e}}(CP);